

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>User guide &mdash; AeroWorks 1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="AeroWorks 1.0 documentation" href="index.html"/>
        <link rel="next" title="The developers" href="developers.html"/>
        <link rel="prev" title="API documentation" href="api.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> AeroWorks</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api.html">API documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">User guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#system-set-up">System set up</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-start-guide">Quick start guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-write-config">How to write config</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-contribute">How to contribute</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">The developers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="developers.html#supervisor">Supervisor</a></li>
<li class="toctree-l2"><a class="reference internal" href="developers.html#core-developers">Core developers</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">AeroWorks</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>User guide</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/userguide.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="user-guide">
<span id="userguide"></span><h1>User guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h1>
<p>This userguide aims to get you started using the Aeroworks framework as quick as possible. If you are here for the first time, you should check if you meet the requirements in <a class="reference internal" href="#system-setup"><span>System set up</span></a>. If you are not try using the <span class="xref std std-ref">start guide</span> for a quick setup or create your own setup with <a class="reference internal" href="#how-to-write-config">How to write config</a></p>
<div class="section" id="system-set-up">
<span id="system-setup"></span><h2>System set up<a class="headerlink" href="#system-set-up" title="Permalink to this headline">¶</a></h2>
<div class="section" id="for-using-the-framework">
<h3>For using the framework<a class="headerlink" href="#for-using-the-framework" title="Permalink to this headline">¶</a></h3>
<p>To use the Aeroworks framework you are going to need a few things. Let&#8217;s start at the very basis.</p>
<div class="section" id="ubuntu-operating-system">
<h4>Ubuntu operating system<a class="headerlink" href="#ubuntu-operating-system" title="Permalink to this headline">¶</a></h4>
<p>Either use a computer that has Ubuntu installed at the RAM lab, install in on your own computer from <a class="reference external" href="http://www.ubuntu.com/download/desktop">the ubuntu download page</a>
Ubuntu is not strictly necessary for running the framework. However it is the common practice at RAM. By working on Ubuntu you enable yourself to use the many different kinds of software that have been developed for the platform, some of which we&#8217;ll use.</p>
<p>If you have in no way acces to a computer with Ubuntu, or cannot install it on a computer, you can use a virtual machine to run Ubuntu on your own computer. You could use <a class="reference external" href="https://www.virtualbox.org/">Oracle VM Virtualbox</a> to set it up.</p>
</div>
<div class="section" id="ros">
<h4>ROS<a class="headerlink" href="#ros" title="Permalink to this headline">¶</a></h4>
<p>Ros.org offers <a class="reference external" href="http://wiki.ros.org/indigo/Installation/Ubuntu">an excellent guide for installing ros</a> on your Ubuntu system, follow it to install ROS.</p>
</div>
<div class="section" id="python">
<h4>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h4>
<p>You need Python, get it at the <a class="reference external" href="https://www.python.org/downloads/source/">Python webpage</a>. If you need a little more help on this check out <a class="reference external" href="https://wiki.python.org/moin/BeginnersGuide/">a Python wiki for beginners</a>.</p>
</div>
<div class="section" id="the-code">
<h4>The code<a class="headerlink" href="#the-code" title="Permalink to this headline">¶</a></h4>
<p>The framework is in an mercurial repository hosted at RAM. To get it you need mercurial which is often installed by default in Ubunut. Open a console and type</p>
<div class="highlight-bash"><div class="highlight"><pre>hg version
</pre></div>
</div>
<p>to see if you have mercurial. If you do not there is <a class="reference external" href="https://help.ubuntu.com/community/Mercurial">an ubuntu help page on getting mercurial</a>.</p>
<p>The easiest way to set up the aeroworks framework is by putting it in your catkin workspace. If you haven&#8217;t already, set up your catkin workspace using <a class="reference external" href="http://wiki.ros.org/ROS/Tutorials/InstallingandConfiguringROSEnvironment">this tutorial</a>. Open a console and use the &#8216;cd&#8217; command to get to your catkin workspace, and then into the &#8216;src&#8217; folder. If you have created the catkin workspace in you home folder, you can use the following code to clone the repository.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> ~/catkin_ws/src/ <span class="o">&amp;&amp;</span> hg clone https://hg.ce.utwente.nl/aeroworks/
</pre></div>
</div>
<p>You will need to enter your RAM username and password, after which you will have the latest version of the Aeroworks framework available. Go to the <a class="reference internal" href="#quick-start-guide">Quick start guide</a> to see what you can do with it!</p>
</div>
<div class="section" id="some-more-useful-links">
<h4>Some more useful links<a class="headerlink" href="#some-more-useful-links" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="http://hginit.com/">A simple guide to mercurial and version control in general</a></li>
</ul>
</div>
<div class="section" id="help">
<h4>Help<a class="headerlink" href="#help" title="Permalink to this headline">¶</a></h4>
<p>If you need help, contact <span class="xref std std-ref">The developers</span>.</p>
</div>
</div>
<div class="section" id="for-development">
<h3>For development<a class="headerlink" href="#for-development" title="Permalink to this headline">¶</a></h3>
<p>If you want to contribute to the Aeroworks project, be sure to check out <a class="reference internal" href="#how-to-contribute">How to contribute</a>.</p>
<p>You can get Sphinx through apt-get, look for info on <a class="reference external" href="http://sphinx-doc.org/latest/install.html">the Sphinx documentation website</a>.</p>
</div>
</div>
<div class="section" id="quick-start-guide">
<h2>Quick start guide<a class="headerlink" href="#quick-start-guide" title="Permalink to this headline">¶</a></h2>
<p>Assuming you have set everything up (for instance through <span class="xref std std-ref">System set up</span>) you can now run your first experiment using the Aeroworks framework.</p>
<div class="section" id="quickstarting-a-turtle">
<h3>Quickstarting a turtle<a class="headerlink" href="#quickstarting-a-turtle" title="Permalink to this headline">¶</a></h3>
<p>ROS includes a turtle simulator package specifically to get you up to speed quickly. Here we will set it up.</p>
<div class="section" id="preparing-ros">
<h4>Preparing ROS<a class="headerlink" href="#preparing-ros" title="Permalink to this headline">¶</a></h4>
<p>If you haven&#8217;t already build your catkin workspace using <em>catkin_make</em> in your catkin workspace. Do not forget to source setup.bash afterwards. If you have installed your catkin workspace in the default directory you can do this by running</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> ~/catkin_ws/ <span class="o">&amp;&amp;</span> catkin_make <span class="o">&amp;&amp;</span> <span class="nb">source </span>devel/setup.bash
</pre></div>
</div>
</div>
<div class="section" id="run-the-aeroworks-core">
<h4>Run the Aeroworks core<a class="headerlink" href="#run-the-aeroworks-core" title="Permalink to this headline">¶</a></h4>
<p>Open up a console and go to your Aeroworks root directory. If you installed it at the default you can do this by running</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> ~/catkin_ws/src/aeroworks
</pre></div>
</div>
<p>Now start the Aeroworks core, use <em>configuration.xml</em> and <em>quickstart_turtle</em> as parameters. You can do that by running</p>
<div class="highlight-bash"><div class="highlight"><pre>python core configuration.xml quickstart_turtle
</pre></div>
</div>
<p>You should get some feedback from the core, telling you it has finished. Now run the following to start your turtle</p>
<div class="highlight-bash"><div class="highlight"><pre>roslaunch aeroworks.launch
</pre></div>
</div>
<p>You should see a small screen with a turtle in it. You can control the turtle hitting arrow keys into the console you used launch the aeroworks file.</p>
</div>
<div class="section" id="what-have-you-done">
<h4>What have you done?<a class="headerlink" href="#what-have-you-done" title="Permalink to this headline">¶</a></h4>
<p>Let&#8217;s go step by step through what you have done to create some understanding. We will only consider the work using the Aeroworks core. You can read more on catkin on the <a class="reference external" href="http://wiki.ros.org/catkin">ros wiki on catkin</a>.</p>
<p>You have used python to start the core, and provided it two arguments. The first is <em>configuration.xml</em>. You can open it, for instace using</p>
<div class="highlight-bash"><div class="highlight"><pre>gedit ~/catkin_ws/src/aeroworks/configuration.xml
</pre></div>
</div>
<p>to see what is in there. You might see a lot of difficult stuff, but somewhere you should be able to find the following lines:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;configuration</span> <span class="na">id=</span><span class="s">&quot;quickstart_turtle&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;vehicle</span> <span class="na">type=</span><span class="s">&quot;turtlesim&quot;</span> <span class="na">id=</span><span class="s">&quot;turtle1&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;userinput</span> <span class="na">type=</span><span class="s">&quot;turtlekey&quot;</span> <span class="na">id=</span><span class="s">&quot;turtlekeynode&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;connect</span> <span class="na">publisher=</span><span class="s">&quot;turtlekeynode/cmd_vel&quot;</span> <span class="na">listener=</span><span class="s">&quot;turtle1/cmd_vel&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</pre></div>
</div>
<p>The configuration.xml file can contain one or many configurations. A configuration is a set up for one run of for instance an experiment or simulation. The configuration we are going to use is called <em>quickstart_turtle</em>, as specified by the second argument you used when starting the core.</p>
<p>Configurations can grow really complicated, but this one specifically shows only three more things:</p>
<ul class="simple">
<li><strong>A vehicle</strong> which is the turtle you see on the screen</li>
<li><strong>Userinput</strong> which is software to generate velocity commands</li>
<li><strong>A connect</strong> Which specifies that the velocity commands generated by the userinput should be used as input to the vehicle.</li>
</ul>
<p>The vehicle and userinput you have specified are both called modules. Information on the modules is stored in <em>module.xml</em> files that you can find in the <em>modules</em> folder of the Aeroworks root. Normally <span class="xref std std-ref">The developers</span> will provide you with modules to use. If you are missing a module or functionality and are ready to contribute check out <a class="reference internal" href="#how-to-contribute">How to contribute</a>.</p>
</div>
</div>
<div class="section" id="quickstarting-an-ar-drone">
<h3>Quickstarting an AR.Drone<a class="headerlink" href="#quickstarting-an-ar-drone" title="Permalink to this headline">¶</a></h3>
<p>Allright, you are going to fly a Parrot AR.drone, and going to control it with a joystick. Do not worry, we&#8217;ll talk you through it.</p>
<div class="section" id="additional-requirements">
<h4>Additional requirements<a class="headerlink" href="#additional-requirements" title="Permalink to this headline">¶</a></h4>
<p>You are going to need a joystick. Find one from the lab (preferebly one that noone is using at the moment) and plug it into your pc. You need to find where it publishes to. Open a console and cd to <em>/dev/input/</em> and see what&#8217;s there using ls. You can do that by running the following line</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> /dev/input/ <span class="o">&amp;&amp;</span> ls
</pre></div>
</div>
<p>You should see some items like <em>mouse1</em> and <em>js0</em>, maybe with different numbers and maybe more then just one. You need to find which one belongs to your joystick. To do that you can use the tool <em>jstest</em>. Key in jstest and use one of the <em>js</em>-items as argument. You can cancel the test by hitting <em>ctrl+c</em>.</p>
<p>You are going to have to do this for every <em>js</em>-item (with the number behind it) untill you find one that clearly responds when you press buttons or move axis on your joystick, before hitting <em>ctrl+c</em>. When you have found it remember which one it was. Fur this quick start guide we will assume that it is <em>js0</em>.</p>
<p>Go to the root of the aeroworks framework, and open configuration.xml, for instance by running</p>
<div class="highlight-bash"><div class="highlight"><pre>gedit ~/catkin_ws/src/aeroworks/configuration.xml
</pre></div>
</div>
<p>Find the part that says (or with another number behind js)</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;dev&quot;</span> <span class="na">value=</span><span class="s">&quot;/dev/input/js0&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>and replace <em>js0</em> with whatever you found before. We were going to assume it was <em>js0</em>, so in that case leave it be. Be sure to save the file if you have changed anything.</p>
<p>To interpret the joystick information to command velocities that make sense we use a some special ros packages. We&#8217;ll talk you through them but for now just make sure you have the joy package. It might be installed for you, to check this run:</p>
<div class="highlight-bash"><div class="highlight"><pre>rospack find joy
</pre></div>
</div>
<p>If this returns a path rather than an error, you have got the package and can skip the following. If not, get it by running</p>
<div class="highlight-bash"><div class="highlight"><pre>sudo apt-get install ros-indigo-joy
</pre></div>
</div>
<p>You might need to enter the password to an administrator priviledged user account. Furthermore, you should replace <em>indigo</em> by the ROS distribution that you have got. You can find whichever distribution you have got by running</p>
<div class="highlight-bash"><div class="highlight"><pre>rosversion -d
</pre></div>
</div>
</div>
<div class="section" id="connecting-to-the-drone">
<h4>Connecting to the drone<a class="headerlink" href="#connecting-to-the-drone" title="Permalink to this headline">¶</a></h4>
<p>Go to a place where it&#8217;s safe to fly, for instance the RAM flightarena. Switch on the Parrot AR.drone. Connect to the wireless network the parrot has created, it&#8217;s called parrot_*number*. Don&#8217;t mind the number. You can acces a list of wireless networks usually at the top-right of your screen, using the arrow symbols.</p>
<p>Once you are connected to the drone you can test the connection by opening a console and running</p>
<div class="highlight-bash"><div class="highlight"><pre>ping 192.168.1.1
</pre></div>
</div>
<p>If the connection was succesfull you should see several ping statistics appearing on screen. Otherwise you&#8217;ll get a message saying it is unreachable.</p>
</div>
<div class="section" id="starting-the-framework">
<h4>Starting the framework<a class="headerlink" href="#starting-the-framework" title="Permalink to this headline">¶</a></h4>
<p>You are now ready to actually start the framework. Things are going to be fast now, keep in mind that the button to land is (if the joystick is labeled) labeled 11).</p>
<p>Open a console and <em>cd</em> to the Aeroworks root directory you have cloned in the <a class="reference internal" href="#system-set-up">System set up</a>. Then start the core by running Python core with <em>configuration.xml</em> and <em>quickstart_parrot</em> as arguments. If you have set up the Aeroworks framework in the <em>src</em> folder of <em>~/catkin_ws</em> you can run the following line to start the core:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span>  ~/catkin_ws/src/aeroworks/ <span class="o">&amp;&amp;</span> python core configuration.xml quickstart_parrot
</pre></div>
</div>
<p>You will get some feedback from the framework, eventually telling you it has finished. You should now have a file called aeroworks.launch in the root of the aeroworks folder (~/catkin_ws/src/aeroworks/aeroworks.launch by default). You can use this launch file to start every ROS node you are going to need for this experiment and also set up connections among them.</p>
<p><em>cd</em> to the Aeroworks root and run <em>roslaunch aeroworks.launch</em>. If the framework is located in the default location you can do that by running</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> ~/catkin_ws/src/aeroworks <span class="o">&amp;&amp;</span> roslaunch aeroworks.launch
</pre></div>
</div>
</div>
<div class="section" id="go-fly">
<h4>Go fly<a class="headerlink" href="#go-fly" title="Permalink to this headline">¶</a></h4>
<p>Hit the button labeled 12 to lift of, move the joystick around to play with your drone. Remember 11 is land.
If your joystick is not labelled get yourself a labeled one, or be careful.</p>
</div>
</div>
</div>
<div class="section" id="how-to-write-config">
<h2>How to write config<a class="headerlink" href="#how-to-write-config" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="how-to-contribute">
<h2>How to contribute<a class="headerlink" href="#how-to-contribute" title="Permalink to this headline">¶</a></h2>
<p>Will be more available later. For now please contact <span class="xref std std-ref">The developers</span>.</p>
<div class="section" id="writing-code">
<h3>Writing code<a class="headerlink" href="#writing-code" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="sending-in-modules">
<h3>Sending in modules<a class="headerlink" href="#sending-in-modules" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="search.html"><span>Search Page</span></a></li>
</ul>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="developers.html" class="btn btn-neutral float-right" title="The developers">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="api.html" class="btn btn-neutral" title="API documentation"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Alex Kamphuis, Cees Trouwborst.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>